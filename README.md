<h1>Курсы валют</h1>
<h3>Исходная задача:</h3>

Необходимо реализовать надежную и гибкую систему работы с курсами валют со следующей логикой:

- вызывающий код может получить курсы валют из кеша 
- из базы данных
- из внешнего источника по http
 
В случае, если курса валют нет в кеше, надо проверить базу, и если там есть, положить в кеш. 
Если в базе нет - проверить внешний источник и положить и в базу, и в кеш.

Предполагается, что эта логика будет использоваться в куче разных мест.

<h3>Дополнительные технические требования:</h3>
- Нам доступны репозитории, реализующие ``CurrenciesRatesRepositoryInterface`` и инкапсулирующие в себе работу с API и базой данных.
- Эти реализации не выбрасывают исключений,
кроме метода ``setCurrencyRate`` в классе, реализующем ``CurrenciesRatesApiInterface`` - он должен выбрасывать исключение ``App\Model\Exception\MethodNotApplicable``
<br>[Что логично - посетить во внешний API курсы валют мы явно не можем.
<br>Вышеупомянутый интерфейс выделен отдельно, но ничего не привносит в базовый ``CurrenciesRatesRepositoryInterface``]
- Мы считаем, что каждый репозиторий гаранированно возвращает объект ``CurrencyRate`` если на указанный ``timestamp`` есть актуальный курс валютной пары, в противном случае - ``null``
- Актуальность валютных пар должна гарантироваться каждым репозиторием, конкретно репозиторием API -  в привязке к конфигурационному параметру ``refresh_period`` из ``currencies.yaml``, например: 
```
refresh_period: 3600
cache_prefix: currencies_
supported_currencies:
  - RUB
  - JPY
  - USD
  - EUR
```
- Таким образом, что основной репозиторий API первым задает ``expiresAt`` для курса валют, это зависит как от контракта API так и от времени запроса к нему,
наример, если ``https://www.cbr-xml-daily.ru/daily.xml``всегда отвечает ``200``, но он указывает в рутовой ноде атрибут ``Date="06.02.2020"``, то имеет смысл задать ``refresh_period`` < ``3600 * 24``, если 
ответы все-таки не статичны, но при этом не выставлять под конец дня больший ``expirest`` чем ``00:00:00`` следующего дня.


Почему 
В принципе такое не сложно реализовать даже в случае если валюты получаются единым списком, а работа с базой происходит
целыми батчами, просто для валют нужно будет написать итератор, который 
 Идет работа только с доступным списком валют, описанным в конфигурационном файле.
Для валюты доступны некоторые свойства. (Самой сущности валюта не было в требованиях, сделано для проверки кода на гибкость).

<h3>ToDo list</h3>
<ul>
    <li>Реализовать все бизнес требования.</li>
    <li>Написать юнит тесты.</li>
    <li>Дописать readme.</li>
</ul>